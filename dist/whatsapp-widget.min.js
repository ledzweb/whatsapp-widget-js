!function(t,e){"use strict";var n={phoneNumber:"",message:"",position:"bottom-right",backgroundColor:"#25D366",hoverColor:"#128C7E",size:"medium",showTooltip:!0,tooltipText:"Fale conosco no WhatsApp",zIndex:9999,margin:20,animation:!1},i={small:{width:50,height:50,iconSize:24},medium:{width:60,height:60,iconSize:30},large:{width:70,height:70,iconSize:36}},o={"bottom-right":{bottom:"20px",right:"20px"},"bottom-left":{bottom:"20px",left:"20px"},"top-right":{top:"20px",right:"20px"},"top-left":{top:"20px",left:"20px"}};function a(t){this.config=this.mergeConfig(n,t||{}),this.element=null,this.tooltip=null,this.init()}a.prototype.mergeConfig=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n},a.prototype.init=function(){this.config.phoneNumber?(this.createStyles(),this.createElement(),this.bindEvents()):console.error("WhatsApp Widget: phoneNumber é obrigatório")},a.prototype.createStyles=function(){var t="whatsapp-widget-styles",n=e.getElementById(t);n&&n.remove();var i=e.createElement("style");i.id=t,i.textContent=this.generateCSS(),e.head.appendChild(i)},a.prototype.generateCSS=function(){var t=this.config,e=i[t.size]||i.medium,n=o[t.position]||o["bottom-right"],a=`\n            .whatsapp-widget {\n                position: fixed;\n                z-index: ${t.zIndex};\n                cursor: pointer;\n                transition: all 0.3s ease;\n                border-radius: 50%;\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                text-decoration: none;\n                color: white;\n                width: ${e.width}px;\n                height: ${e.height}px;\n                background-color: ${t.backgroundColor};\n            }\n\n            .whatsapp-widget:hover {\n                background-color: ${t.hoverColor};\n                transform: scale(1.1);\n                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);\n                text-decoration: none;\n                color: white;\n            }\n\n            .whatsapp-widget-icon {\n                width: ${e.iconSize}px;\n                height: ${e.iconSize}px;\n                display: block;\n            }\n\n            .whatsapp-widget-tooltip {\n                position: absolute;\n                background-color: #333;\n                color: white;\n                padding: 8px 12px;\n                border-radius: 6px;\n                font-size: 14px;\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n                white-space: nowrap;\n                opacity: 0;\n                visibility: hidden;\n                transition: all 0.3s ease;\n                z-index: ${t.zIndex+1};\n                pointer-events: none;\n            }\n\n            .whatsapp-widget-tooltip::after {\n                content: '';\n                position: absolute;\n                width: 0;\n                height: 0;\n                border-style: solid;\n            }\n\n            .whatsapp-widget:hover .whatsapp-widget-tooltip {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            ${this.generateTooltipPositionCSS()}\n\n            ${t.animation?"\n                @keyframes whatsapp-widget-pulse {\n                    0% { transform: scale(1); }\n                    50% { transform: scale(1.05); }\n                    100% { transform: scale(1); }\n                }\n\n                .whatsapp-widget-animate {\n                    animation: whatsapp-widget-pulse 2s infinite;\n                }\n            ":""}\n\n            /* Responsividade */\n            @media (max-width: 768px) {\n                .whatsapp-widget {\n                    width: ${Math.max(e.width-10,40)}px;\n                    height: ${Math.max(e.height-10,40)}px;\n                }\n                \n                .whatsapp-widget-icon {\n                    width: ${Math.max(e.iconSize-6,20)}px;\n                    height: ${Math.max(e.iconSize-6,20)}px;\n                }\n            }\n        `;for(var p in n)a+=`.whatsapp-widget { ${p}: ${n[p]}; }`;return a},a.prototype.generateTooltipPositionCSS=function(){var t=this.config.position,e="";return t.includes("bottom")?e+="\n                .whatsapp-widget-tooltip {\n                    bottom: 100%;\n                    margin-bottom: 10px;\n                }\n                .whatsapp-widget-tooltip::after {\n                    top: 100%;\n                    border-width: 5px 5px 0 5px;\n                    border-color: #333 transparent transparent transparent;\n                }\n            ":e+="\n                .whatsapp-widget-tooltip {\n                    top: 100%;\n                    margin-top: 10px;\n                }\n                .whatsapp-widget-tooltip::after {\n                    bottom: 100%;\n                    border-width: 0 5px 5px 5px;\n                    border-color: transparent transparent #333 transparent;\n                }\n            ",t.includes("right")?e+="\n                .whatsapp-widget-tooltip {\n                    right: 0;\n                }\n                .whatsapp-widget-tooltip::after {\n                    right: 15px;\n                }\n            ":e+="\n                .whatsapp-widget-tooltip {\n                    left: 0;\n                }\n                .whatsapp-widget-tooltip::after {\n                    left: 15px;\n                }\n            ",e},a.prototype.createElement=function(){var t=e.querySelector(".whatsapp-widget");t&&t.remove();var n=e.createElement("a");n.className="whatsapp-widget",n.href=this.generateWhatsAppURL(),n.target="_blank",n.rel="noopener noreferrer",n.setAttribute("aria-label",this.config.tooltipText);var i=e.createElement("span");if(i.className="whatsapp-widget-icon",i.innerHTML='<svg viewBox="0 0 24 24" width="100%" height="100%" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.516"/></svg>',n.appendChild(i),this.config.showTooltip){var o=e.createElement("span");o.className="whatsapp-widget-tooltip",o.textContent=this.config.tooltipText,n.appendChild(o),this.tooltip=o}this.config.animation&&n.classList.add("whatsapp-widget-animate"),e.body.appendChild(n),this.element=n},a.prototype.generateWhatsAppURL=function(){var t="https://wa.me/"+this.config.phoneNumber.replace(/[^\d]/g,"");return this.config.message&&(t+="?text="+encodeURIComponent(this.config.message)),t},a.prototype.bindEvents=function(){var t=this;this.element&&this.element.addEventListener("click",function(e){"undefined"!=typeof gtag&&gtag("event","click",{event_category:"WhatsApp Widget",event_label:"WhatsApp Contact"}),"function"==typeof t.config.onClick&&t.config.onClick(e)})},a.prototype.updateConfig=function(t){this.config=this.mergeConfig(this.config,t),this.createStyles(),this.createElement(),this.bindEvents()},a.prototype.destroy=function(){this.element&&(this.element.remove(),this.element=null);var t=e.getElementById("whatsapp-widget-styles");t&&t.remove()},a.prototype.show=function(){this.element&&(this.element.style.display="flex")},a.prototype.hide=function(){this.element&&(this.element.style.display="none")},t.WhatsAppWidget=a,t.whatsappWidgetConfig&&new a(t.whatsappWidgetConfig),e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll("script[data-whatsapp-number]").forEach(function(t){new a({phoneNumber:t.getAttribute("data-whatsapp-number"),message:t.getAttribute("data-whatsapp-message")||"",position:t.getAttribute("data-whatsapp-position")||"bottom-right",backgroundColor:t.getAttribute("data-whatsapp-bg-color")||"#25D366",size:t.getAttribute("data-whatsapp-size")||"medium",showTooltip:"false"!==t.getAttribute("data-whatsapp-tooltip"),tooltipText:t.getAttribute("data-whatsapp-tooltip-text")||"Fale conosco no WhatsApp"})})})}(window,document);